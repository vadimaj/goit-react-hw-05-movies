"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[591],{421:function(e,r,n){n.d(r,{Z:function(){return i}});var t="Loader_loader__+lRPl",a=n(643),c=n(184),i=function(){return(0,c.jsx)("div",{className:t,children:(0,c.jsx)(a.iT,{height:"30",width:"30",color:"#3f51b5",wrapperStyle:{},wrapperClass:"",visible:!0,ariaLabel:"oval-loading",secondaryColor:"#8890bc",strokeWidth:7,strokeWidthSecondary:7})})}},881:function(e,r,n){n.d(r,{Z:function(){return t.Z}});var t=n(421)},591:function(e,r,n){n.r(r),n.d(r,{default:function(){return x}});var t=n(861),a=n(439),c=n(757),i=n.n(c),s=n(689),o=n(791),u=n(188),d=function(){var e=(0,t.Z)(i().mark((function e(r){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(u.H7,"/movie/").concat(r,"/reviews?").concat(u.YM));case 2:return n=e.sent,e.next=5,n.json();case 5:return t=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=d,f="Reviews_review-container__zBTWE",h=n(881),p=n(184),v="pending",m="resolved",w="rejected",x=function(){var e=(0,s.UO)().movieId,r=(0,o.useState)(""),n=(0,a.Z)(r,2),c=n[0],u=n[1],d=(0,o.useState)(null),x=(0,a.Z)(d,2),j=x[0],b=x[1],k=(0,o.useState)(null),_=(0,a.Z)(k,2),g=_[0],y=_[1];if((0,o.useEffect)((function(){function r(){return(r=(0,t.Z)(i().mark((function r(){var n;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,l(e);case 3:n=r.sent,b(n),u(m),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),y(r.t0),u(w);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))).apply(this,arguments)}u(v),function(){r.apply(this,arguments)}()}),[e]),"pending"===c)return(0,p.jsx)(h.Z,{});if("rejected"===c)return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{children:"An error occured, please try again."}),(0,p.jsxs)("div",{children:["Error",g.message]})]});if("resolved"===c){var Z=j.results;return j.total_results?(0,p.jsx)("div",{className:f,children:Z.map((function(e){var r=e.author,n=e.content;return(0,p.jsxs)("div",{className:"review-item",children:[(0,p.jsxs)("h3",{children:["Author: "," ",r]}),(0,p.jsx)("p",{children:n})]},r)}))}):(0,p.jsx)("div",{children:"We don't have any reviews for this movie yet"})}}},188:function(e,r,n){n.d(r,{Fn:function(){return a},H7:function(){return t},YM:function(){return c},b1:function(){return i}});var t="https://api.themoviedb.org/3",a="0f13d416e0a5bec252569942d7aded53",c=new URLSearchParams({api_key:a}),i="https://image.tmdb.org/t/p/w200/"}}]);
//# sourceMappingURL=591.e3213c3c.chunk.js.map